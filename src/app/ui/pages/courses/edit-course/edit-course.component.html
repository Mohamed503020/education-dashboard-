<div class="edit-course">
  <div class="edit-course__header">
    <div class="edit-course__title-section">
      <h1 class="edit-course__title">{{ 'courses.edit' | translate }}</h1>
      <nav class="edit-course__breadcrumb">
        <a routerLink="/dashboard">{{ 'nav.dashboard' | translate }}</a>
        <span>/</span>
        <a routerLink="/courses/all">{{ 'nav.courses' | translate }}</a>
        <span>/</span>
        <span>{{ 'courses.edit' | translate }}</span>
      </nav>
    </div>
    <div class="edit-course__id-badge">
      Course ID: {{ courseId }}
    </div>
  </div>

  <div class="edit-course__form-container">
    <form (ngSubmit)="onSubmit()" #courseForm="ngForm">
      <!-- Basic Information -->
      <div class="form-section">
        <h3 class="form-section__title">
          <span class="material-icons">info</span>
          Basic Information
        </h3>
        <div class="form-grid">
          <div class="form-group">
            <label class="form-label" for="code">Course Code *</label>
            <input
              type="text"
              id="code"
              name="code"
              class="form-input"
              [(ngModel)]="course.code"
              required
              placeholder="e.g., CS101"
            />
          </div>
          <div class="form-group form-group--wide">
            <label class="form-label" for="name">Course Name *</label>
            <input
              type="text"
              id="name"
              name="name"
              class="form-input"
              [(ngModel)]="course.name"
              required
              placeholder="Enter course name"
            />
          </div>
          <div class="form-group">
            <label class="form-label" for="department">Department *</label>
            <select
              id="department"
              name="department"
              class="form-input"
              [(ngModel)]="course.department"
              required
            >
              <option value="">Select Department</option>
              @for (dept of departments; track dept) {
                <option [value]="dept">{{ dept }}</option>
              }
            </select>
          </div>
          <div class="form-group">
            <label class="form-label" for="credits">Credits *</label>
            <input
              type="number"
              id="credits"
              name="credits"
              class="form-input"
              [(ngModel)]="course.credits"
              required
              min="1"
              max="6"
            />
          </div>
          <div class="form-group">
            <label class="form-label" for="professor">Professor *</label>
            <select
              id="professor"
              name="professor"
              class="form-input"
              [(ngModel)]="course.professor"
              required
            >
              <option value="">Select Professor</option>
              @for (prof of professors; track prof) {
                <option [value]="prof">{{ prof }}</option>
              }
            </select>
          </div>
          <div class="form-group">
            <label class="form-label" for="maxStudents">Max Students</label>
            <input
              type="number"
              id="maxStudents"
              name="maxStudents"
              class="form-input"
              [(ngModel)]="course.maxStudents"
              min="1"
              max="500"
            />
          </div>
        </div>
      </div>

      <!-- Course Details -->
      <div class="form-section">
        <h3 class="form-section__title">
          <span class="material-icons">description</span>
          Course Details
        </h3>
        <div class="form-grid">
          <div class="form-group form-group--full">
            <label class="form-label" for="description">Description</label>
            <textarea
              id="description"
              name="description"
              class="form-input form-input--textarea"
              [(ngModel)]="course.description"
              rows="4"
              placeholder="Enter course description"
            ></textarea>
          </div>
          <div class="form-group form-group--full">
            <label class="form-label" for="prerequisites">Prerequisites</label>
            <input
              type="text"
              id="prerequisites"
              name="prerequisites"
              class="form-input"
              [(ngModel)]="course.prerequisites"
              placeholder="e.g., CS100, MATH101"
            />
          </div>
        </div>
      </div>

      <!-- Schedule -->
      <div class="form-section">
        <h3 class="form-section__title">
          <span class="material-icons">schedule</span>
          Schedule
        </h3>
        <div class="form-grid">
          <div class="form-group">
            <label class="form-label" for="schedule">Class Schedule</label>
            <input
              type="text"
              id="schedule"
              name="schedule"
              class="form-input"
              [(ngModel)]="course.schedule"
              placeholder="e.g., Mon/Wed 9:00-10:30"
            />
          </div>
          <div class="form-group">
            <label class="form-label" for="startDate">Start Date</label>
            <input
              type="date"
              id="startDate"
              name="startDate"
              class="form-input"
              [(ngModel)]="course.startDate"
            />
          </div>
          <div class="form-group">
            <label class="form-label" for="endDate">End Date</label>
            <input
              type="date"
              id="endDate"
              name="endDate"
              class="form-input"
              [(ngModel)]="course.endDate"
            />
          </div>
          <div class="form-group">
            <label class="form-label" for="status">Status</label>
            <select
              id="status"
              name="status"
              class="form-input"
              [(ngModel)]="course.status"
            >
              <option value="active">Active</option>
              <option value="inactive">Inactive</option>
              <option value="upcoming">Upcoming</option>
            </select>
          </div>
        </div>
      </div>

      <!-- Form Actions -->
      <div class="form-actions">
        <button type="button" class="btn btn--outline" (click)="onCancel()">
          <span class="material-icons">close</span>
          Cancel
        </button>
        <button type="button" class="btn btn--secondary" (click)="onReset()">
          <span class="material-icons">refresh</span>
          Reset
        </button>
        <button type="submit" class="btn btn--primary" [disabled]="!courseForm.valid">
          <span class="material-icons">save</span>
          Update Course
        </button>
      </div>
    </form>
  </div>
</div>
