@if (loading) {
  <div class="loading-state" dir="rtl">
    <div class="spinner"></div>
    <p>ุฌุงุฑู ุชุญููู ุงูุดูุงุฏุฉ...</p>
  </div>
} @else if (certificate) {
  <div class="certificate-page" dir="rtl">
    <div class="actions-bar">
      <a routerLink="/site" class="back-btn">โ ุงูุนูุฏุฉ ููุฑุฆูุณูุฉ</a>
      <button class="print-btn" (click)="printCertificate()">๐จ๏ธ ุทุจุงุนุฉ ุงูุดูุงุฏุฉ</button>
    </div>

    <div class="certificate-frame" id="certificate">
      <div class="certificate-border">
        <div class="certificate-inner">
          <!-- Header -->
          <div class="cert-header">
            <div class="cert-logo">๐</div>
            <h1 class="cert-title">ุดูุงุฏุฉ ุฅุชูุงู</h1>
            <div class="cert-subtitle">ุฃุณุชุงุฐ ุงููุบุฉ ุงูุนุฑุจูุฉ</div>
          </div>

          <!-- Body -->
          <div class="cert-body">
            <p class="cert-awarded">ุชุดูุฏ ูุฐู ุงูุดูุงุฏุฉ ุจุฃู</p>
            <h2 class="cert-student-name">{{ certificate.studentName }}</h2>
            <p class="cert-completed">ูุฏ ุฃุชู ุจูุฌุงุญ ุฏุฑุงุณุฉ</p>
            <h3 class="cert-course-name">{{ certificate.courseName }}</h3>
            <p class="cert-score">ุจุฏุฑุฌุฉ <strong>{{ certificate.examScore }}%</strong></p>
          </div>

          <!-- Footer -->
          <div class="cert-footer">
            <div class="cert-detail">
              <span class="cert-label">ุชุงุฑูุฎ ุงูุฅุตุฏุงุฑ</span>
              <span class="cert-value">{{ getFormattedDate(certificate.issueDate) }}</span>
            </div>
            <div class="cert-seal">
              <div class="seal-icon">โฆ</div>
              <div class="seal-text">ูุนุชูุฏุฉ</div>
            </div>
            <div class="cert-detail">
              <span class="cert-label">ุฑูู ุงูุดูุงุฏุฉ</span>
              <span class="cert-value cert-number">{{ certificate.certificateNumber }}</span>
            </div>
          </div>

          <div class="cert-ornament-top"></div>
          <div class="cert-ornament-bottom"></div>
        </div>
      </div>
    </div>

    <div class="cert-info-card">
      <h3>ุชูุงุตูู ุงูุดูุงุฏุฉ</h3>
      <div class="info-row"><span>ุงูุทุงูุจ</span><span>{{ certificate.studentName }}</span></div>
      <div class="info-row"><span>ุงูููุฑุณ</span><span>{{ certificate.courseName }}</span></div>
      <div class="info-row"><span>ุงูุฏุฑุฌุฉ</span><span>{{ certificate.examScore }}%</span></div>
      <div class="info-row"><span>ุชุงุฑูุฎ ุงูุฅุตุฏุงุฑ</span><span>{{ getFormattedDate(certificate.issueDate) }}</span></div>
      <div class="info-row"><span>ุฑูู ุงูุดูุงุฏุฉ</span><span>{{ certificate.certificateNumber }}</span></div>
      <div class="info-row"><span>ุงูุญุงูุฉ</span><span class="status" [class.valid]="certificate.isValid">{{ certificate.isValid ? 'โ ุณุงุฑูุฉ' : 'โ ุบูุฑ ุณุงุฑูุฉ' }}</span></div>
    </div>
  </div>
} @else {
  <div class="error-state" dir="rtl">
    <div class="error-icon">โ</div>
    <h2>ูู ูุชู ุงูุนุซูุฑ ุนูู ุงูุดูุงุฏุฉ</h2>
    <a routerLink="/site" class="back-link">ุงูุนูุฏุฉ ููุฑุฆูุณูุฉ</a>
  </div>
}
