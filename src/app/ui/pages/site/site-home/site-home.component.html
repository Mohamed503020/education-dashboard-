<div class="home-page" dir="rtl">

  <!-- โโโโโโโโโโโ HERO โโโโโโโโโโโ -->
  <section class="hero">
    <div class="hero-bg-shapes">
      <div class="shape shape-1"></div>
      <div class="shape shape-2"></div>
      <div class="shape shape-3"></div>
      <div class="shape shape-4"></div>
    </div>
    <div class="hero-pattern"></div>
    <div class="container">
      <div class="hero-grid">
        <div class="hero-text">
          <div class="hero-badge">
            <span class="badge-icon">โจ</span>
            <span>ููุตุฉ #1 ูู ุชุนููู ุงูุนุฑุจูุฉ</span>
          </div>
          <h1>ุชุนููู ุงููุบุฉ ุงูุนุฑุจูุฉ<br><span class="gradient-text">ูุน ุฃูุถู ูุนูู</span></h1>
          <p class="hero-desc">
            ููุตุฉ ุชุนููููุฉ ูุชุฎุตุตุฉ ุชูุฏู ุดุฑุญ ุงูููุงูุฌ ุงูุฏุฑุงุณูุฉ ุจุงูููุฏููุ
            ุจุซ ูุจุงุดุฑ ุชูุงุนููุ ุงูุชุญุงูุงุช ุฐููุฉุ ูุดูุงุฏุงุช ูุนุชูุฏุฉ ูุฌููุน ุงููุฑุงุญู.
          </p>
          <div class="hero-actions">
            <a routerLink="/site/courses/primary" class="btn-primary-lg">
              <span>ุงุจุฏุฃ ุงูุชุนูู ุงูุขู</span>
              <span class="btn-arrow">โ</span>
            </a>
            <a routerLink="/register" class="btn-outline-lg">
              ุณุฌูู ูุฌุงูุงู
            </a>
          </div>
          <div class="hero-trust">
            <div class="trust-avatars">
              <span class="avatar-circle">๐จโ๐</span>
              <span class="avatar-circle">๐ฉโ๐</span>
              <span class="avatar-circle">๐จโ๐</span>
              <span class="avatar-circle avatar-more">+ูกูู</span>
            </div>
            <span class="trust-text">ุฃูุซุฑ ูู <strong>ูกูฃูู ุทุงูุจ</strong> ูุชุนูููู ูุนูุง</span>
          </div>
        </div>
        <div class="hero-visual">
          <div class="hero-card-stack">
            <div class="hero-float-card card-1">
              <span class="card-emoji">๐</span>
              <div>
                <strong>ูฉ ููุฑุณุงุช</strong>
                <small>ูุฌููุน ุงููุฑุงุญู</small>
              </div>
            </div>
            <div class="hero-float-card card-2">
              <span class="card-emoji">๐ฅ</span>
              <div>
                <strong>ูฅูก ููุฏูู</strong>
                <small>ุดุฑุญ ููุตู</small>
              </div>
            </div>
            <div class="hero-float-card card-3">
              <span class="card-emoji">๐</span>
              <div>
                <strong>ุงูุชุญุงูุงุช</strong>
                <small>ุชุตุญูุญ ููุฑู</small>
              </div>
            </div>
            <div class="hero-main-image">
              <div class="book-display">
                <div class="book book-1">
                  <span>ุน</span>
                  <small>ุงุจุชุฏุงุฆู</small>
                </div>
                <div class="book book-2">
                  <span>ู</span>
                  <small>ุงุนุฏุงุฏู</small>
                </div>
                <div class="book book-3">
                  <span>ุจ</span>
                  <small>ุซุงููู</small>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- โโโโโโโโโโโ LIVE STREAMS โโโโโโโโโโโ -->
  @if (liveStreams.length > 0) {
    <section class="live-section">
      <div class="container">
        <div class="live-banner">
          <div class="live-pulse"></div>
          <div class="live-info">
            <span class="live-badge-red">
              <span class="dot-pulse"></span>
              ุจุซ ูุจุงุดุฑ ุงูุขู
            </span>
            <h3>{{ liveStreams[0].title || 'ุญุตุฉ ูุจุงุดุฑุฉ' }}</h3>
            <p>{{ liveStreams[0].description || 'ุงูุถู ููุญุตุฉ ุงููุจุงุดุฑุฉ ุงูุขู ูุน ุงูุฃุณุชุงุฐ' }}</p>
          </div>
          <a [routerLink]="['/site/live', liveStreams[0]._id]" class="btn-join-live">
            <span>๐ฅ</span> ุงูุถู ุงูุขู
          </a>
        </div>
      </div>
    </section>
  }

  <!-- โโโโโโโโโโโ STAGES โโโโโโโโโโโ -->
  <section class="stages-section">
    <div class="container">
      <div class="section-header">
        <span class="section-badge">๐ ุงููุฑุงุญู ุงูุชุนููููุฉ</span>
        <h2>ุงุฎุชุฑ ุงููุฑุญูุฉ ุงูุชุนููููุฉ</h2>
        <p>ููุฑุณุงุช ูุชุฎุตุตุฉ ููู ูุฑุญูุฉ ุชุนููููุฉ ูู ุงูุงุจุชุฏุงุฆูุฉ ุฅูู ุงูุซุงูููุฉ</p>
      </div>
      <div class="stages-grid">
        @for (stage of stages; track stage.key) {
          <a [routerLink]="stage.link" class="stage-card">
            <div class="stage-card-bg" [style.background]="stage.gradient"></div>
            <div class="stage-card-content">
              <div class="stage-icon-wrapper" [style.background]="stage.gradient">
                <span class="stage-icon-text">{{ stage.icon }}</span>
              </div>
              <h3>{{ stage.name }}</h3>
              <p class="stage-grades">{{ stage.grades }}</p>
              <p class="stage-desc">{{ stage.description }}</p>
              <div class="stage-stats">
                <div class="stage-stat">
                  <span class="stat-num">{{ stage.stats.courses }}</span>
                  <span class="stat-label">ููุฑุณ</span>
                </div>
                <div class="stage-stat">
                  <span class="stat-num">{{ stage.stats.lessons }}</span>
                  <span class="stat-label">ุฏุฑุณ</span>
                </div>
                <div class="stage-stat">
                  <span class="stat-num">{{ stage.stats.students }}</span>
                  <span class="stat-label">ุทุงูุจ</span>
                </div>
              </div>
              <span class="stage-cta">ุชุตูุญ ุงูููุฑุณุงุช โ</span>
            </div>
          </a>
        }
      </div>
    </div>
  </section>

  <!-- โโโโโโโโโโโ COURSES BY STAGE TABS โโโโโโโโโโโ -->
  <section class="courses-tabs-section">
    <div class="container">
      <div class="section-header">
        <span class="section-badge">๐ ุงูููุฑุณุงุช</span>
        <h2>ุชุตูุญ ุงูููุฑุณุงุช ุญุณุจ ุงููุฑุญูุฉ</h2>
        <p>ุงุฎุชุฑ ูุฑุญูุชู ูุงุจุฏุฃ ุงูุชุนูู ุงูุขู</p>
      </div>
      <div class="tabs-bar">
        @for (stage of stages; track stage.key) {
          <button
            class="tab-btn"
            [class.active]="activeTab === stage.key"
            [attr.data-stage]="stage.key"
            (click)="activeTab = stage.key">
            {{ stage.icon }} {{ stage.nameShort }}
          </button>
        }
      </div>
      <div class="courses-grid">
        @for (course of getActiveTabCourses(); track course._id) {
          <a [routerLink]="['/site/course', course._id]" class="course-card">
            <div class="course-thumb">
              @if (course.thumbnail) {
                <img [src]="course.thumbnail" [alt]="course.title">
              } @else {
                <div class="thumb-gradient" [attr.data-stage]="course.stage">
                  <span class="thumb-letter">{{ course.title.charAt(0) }}</span>
                </div>
              }
              @if (course.stage) {
                <span class="course-badge" [attr.data-stage]="course.stage">{{ getStageName(course.stage) }}</span>
              }
              @if (course.grade) {
                <span class="grade-badge">{{ getGradeName(course.grade) }}</span>
              }
            </div>
            <div class="course-body">
              <h4>{{ course.title }}</h4>
              <p class="course-teacher">๐จโ๐ซ {{ getTeacherName(course) }}</p>
              <div class="course-meta">
                <span>๐ {{ course.materials.length || 0 }} ุฏุฑุณ</span>
                <span>๐ฅ {{ course.enrollmentCount || 0 }} ุทุงูุจ</span>
              </div>
              <div class="course-footer-row">
                <div class="course-price">
                  @if (course.isFree || course.price === 0) {
                    <span class="free-tag">ูุฌุงูู</span>
                  } @else {
                    <span class="price-tag">{{ course.price }} ุฌููู</span>
                  }
                </div>
                @if (course.rating) {
                  <div class="course-rating">
                    <span class="star">โญ</span>
                    <span>{{ course.rating }}</span>
                  </div>
                }
              </div>
            </div>
          </a>
        }
        @if (getActiveTabCourses().length === 0) {
          <div class="empty-courses">
            <span>๐ญ</span>
            <p>ูุง ุชูุฌุฏ ููุฑุณุงุช ูุชุงุญุฉ ุญุงููุงู ููุฐู ุงููุฑุญูุฉ</p>
          </div>
        }
      </div>
      <div class="view-all-btn">
        <a [routerLink]="['/site/courses', activeTab]" class="btn-secondary">
          ุนุฑุถ ูู ููุฑุณุงุช {{ stages[activeTab === 'primary' ? 0 : activeTab === 'preparatory' ? 1 : 2].nameShort }} โ
        </a>
      </div>
    </div>
  </section>

  <!-- โโโโโโโโโโโ FEATURES โโโโโโโโโโโ -->
  <section class="features-section">
    <div class="container">
      <div class="section-header">
        <span class="section-badge">๐ก ุงููููุฒุงุช</span>
        <h2>ููุงุฐุง ุชุฎุชุงุฑ ููุตุชูุงุ</h2>
        <p>ูู ูุง ูุญุชุงุฌู ุงูุทุงูุจ ูู ููุงู ูุงุญุฏ</p>
      </div>
      <div class="features-grid">
        @for (feature of features; track feature.title; let i = $index) {
          <div class="feature-card" [style.--feature-color]="feature.color" [style.animation-delay]="(i * 0.1) + 's'">
            <div class="feature-icon-wrap">
              <span class="feature-icon">{{ feature.icon }}</span>
            </div>
            <h4>{{ feature.title }}</h4>
            <p>{{ feature.desc }}</p>
          </div>
        }
      </div>
    </div>
  </section>

  <!-- โโโโโโโโโโโ HOW IT WORKS โโโโโโโโโโโ -->
  <section class="how-section">
    <div class="container">
      <div class="section-header">
        <span class="section-badge">๐ ููู ุชุจุฏุฃ</span>
        <h2>ูฃ ุฎุทูุงุช ููุท</h2>
        <p>ุงุจุฏุฃ ุฑุญูุฉ ุงูุชุนูู ูู ุฏูุงุฆู</p>
      </div>
      <div class="steps-grid">
        <div class="step-card">
          <div class="step-num">ูก</div>
          <div class="step-icon">๐</div>
          <h4>ุณุฌูู ุญุณุงุจ ูุฌุงูู</h4>
          <p>ุฃูุดุฆ ุญุณุงุจู ูู ุซูุงูู ูุงุจุฏุฃ ุชุตูุญ ุงูููุฑุณุงุช</p>
        </div>
        <div class="step-connector">
          <span>โ</span>
        </div>
        <div class="step-card">
          <div class="step-num">ูข</div>
          <div class="step-icon">๐</div>
          <h4>ุงุฎุชุฑ ูุฑุญูุชู ูููุฑุณู</h4>
          <p>ุชุตูุญ ุงูููุฑุณุงุช ุญุณุจ ูุฑุญูุชู ุงูุฏุฑุงุณูุฉ ูุณุฌูู ูููุง</p>
        </div>
        <div class="step-connector">
          <span>โ</span>
        </div>
        <div class="step-card">
          <div class="step-num">ูฃ</div>
          <div class="step-icon">๐ฌ</div>
          <h4>ุดุงูุฏ ูุชุนููู ูุงูุชุญู</h4>
          <p>ุดุงูุฏ ุงูููุฏูููุงุชุ ุญุถุฑ ุงูุจุซ ุงููุจุงุดุฑุ ูุงุฌุชุฒ ุงูุงูุชุญุงู</p>
        </div>
      </div>
    </div>
  </section>

  <!-- โโโโโโโโโโโ TESTIMONIALS โโโโโโโโโโโ -->
  <section class="testimonials-section">
    <div class="container">
      <div class="section-header">
        <span class="section-badge">๐ฌ ุขุฑุงุก ุงูุทูุงุจ</span>
        <h2>ูุงุฐุง ูููู ุทูุงุจูุงุ</h2>
        <p>ุชููููุงุช ุญููููุฉ ูู ุทูุงุจ ุงูููุตุฉ</p>
      </div>
      <div class="testimonials-grid">
        @for (t of testimonials; track t.name) {
          <div class="testimonial-card">
            <div class="testimonial-stars">
              @for (s of getStars(t.rating); track $index) {
                <span class="star">โญ</span>
              }
            </div>
            <p class="testimonial-text">"{{ t.text }}"</p>
            <div class="testimonial-author">
              <div class="author-avatar">{{ t.name.charAt(0) }}</div>
              <div>
                <strong>{{ t.name }}</strong>
                <span>{{ t.stage }}</span>
              </div>
            </div>
          </div>
        }
      </div>
    </div>
  </section>

  <!-- โโโโโโโโโโโ LIVE STREAM CTA โโโโโโโโโโโ -->
  <section class="live-cta-section">
    <div class="container">
      <div class="live-cta-card">
        <div class="live-cta-bg"></div>
        <div class="live-cta-content">
          <div class="live-cta-icon">๐ฅ</div>
          <h2>ุงูุจุซ ุงููุจุงุดุฑ</h2>
          <p>ุชุงุจุน ุงูุญุตุต ุงููุจุงุดุฑุฉ ูุน ุงูุฃุณุชุงุฐ ุฃุญูุฏ ูุญูุฏ. ุงุณุฃูุ ูุงูุดุ ูุชุนูู ูู ุงูููุช ุงูุญูููู!</p>
          <a routerLink="/site/live" class="btn-live-cta">
            <span class="dot-pulse white"></span>
            ุดุงูุฏ ุงูุจุซ ุงููุจุงุดุฑ
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- โโโโโโโโโโโ CTA โโโโโโโโโโโ -->
  <section class="cta-section">
    <div class="container">
      <div class="cta-content">
        <h2>ูุณุชุนุฏ ุชุจุฏุฃ ุฑุญูุฉ ุงูุชูููุ ๐</h2>
        <p>ุณุฌูู ุงูุขู ูุฌุงูุงู ูุงุจุฏุฃ ุงูุชุนูู ููุฑุงู. ุฃูุซุฑ ูู ูฉ ููุฑุณุงุช ููฅู ููุฏูู ุจุงูุชุธุงุฑู!</p>
        <div class="cta-actions">
          <a routerLink="/register" class="btn-primary-lg">ุณุฌูู ุงูุขู ูุฌุงูุงู</a>
          <a routerLink="/site/courses/primary" class="btn-ghost">ุชุตูุญ ุงูููุฑุณุงุช</a>
        </div>
      </div>
    </div>
  </section>

</div>
